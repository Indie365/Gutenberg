"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[858],{"./node_modules/@ariakit/core/esm/__chunks/5XEKIOCW.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{function flatten2DArray(array){const flattened=[];for(const row of array)flattened.push(...row);return flattened}function reverseArray(array){return array.slice().reverse()}__webpack_require__.d(__webpack_exports__,{JH:()=>flatten2DArray,GP:()=>reverseArray})},"./node_modules/@ariakit/react-core/esm/toolbar/toolbar-store.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{rd:()=>useToolbarStore});var FHQZ2KRN=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/FHQZ2KRN.js");function useCollectionStoreProps(store,props){return(0,FHQZ2KRN.XS)(store,props,"items","setItems"),store}function useCompositeStoreProps(store,props){return store=useCollectionStoreProps(store,props),(0,FHQZ2KRN.XS)(store,props,"activeId","setActiveId"),(0,FHQZ2KRN.XS)(store,props,"includesBaseElement"),(0,FHQZ2KRN.XS)(store,props,"virtualFocus"),(0,FHQZ2KRN.XS)(store,props,"orientation"),(0,FHQZ2KRN.XS)(store,props,"rtl"),(0,FHQZ2KRN.XS)(store,props,"focusLoop"),(0,FHQZ2KRN.XS)(store,props,"focusWrap"),(0,FHQZ2KRN.XS)(store,props,"focusShift"),store}var PNRLI7OV=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/PNRLI7OV.js"),WVTCK5PV=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/WVTCK5PV.js"),_chunks_PNRLI7OV=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/PNRLI7OV.js");function createStore(initialState,...stores){let state=initialState,prevStateBatch=state,lastUpdate=Symbol(),initialized=!1;const updatedKeys=new Set,setups=new Set,listeners=new Set,listenersBatch=new Set,disposables=new WeakMap,listenerKeys=new WeakMap,sub=(listener,keys,batch=!1)=>{const set=batch?listenersBatch:listeners;return set.add(listener),listenerKeys.set(listener,keys),()=>{var _a;null==(_a=disposables.get(listener))||_a(),disposables.delete(listener),listenerKeys.delete(listener),set.delete(listener)}},setState=(key,value)=>{if(!(0,WVTCK5PV.nr)(state,key))return;const nextValue=(0,WVTCK5PV.Ei)(value,state[key]);if(nextValue===state[key])return;stores.forEach((store=>{var _a;null==(_a=null==store?void 0:store.setState)||_a.call(store,key,nextValue)}));const prevState=state;state=(0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)({},state),{[key]:nextValue});const thisUpdate=Symbol();lastUpdate=thisUpdate,updatedKeys.add(key);const run=(listener,prev,uKeys)=>{var _a;const keys=listenerKeys.get(listener);keys&&!keys.some((k=>uKeys?uKeys.has(k):k===key))||(null==(_a=disposables.get(listener))||_a(),disposables.set(listener,listener(state,prev)))};listeners.forEach((listener=>run(listener,prevState))),queueMicrotask((()=>{if(lastUpdate!==thisUpdate)return;const snapshot=state;listenersBatch.forEach((listener=>{run(listener,prevStateBatch,updatedKeys)})),prevStateBatch=snapshot,updatedKeys.clear()}))},finalStore={setup:callback=>(setups.add(callback),()=>setups.delete(callback)),init:()=>{if(initialized)return WVTCK5PV.ZT;if(!stores.length)return WVTCK5PV.ZT;initialized=!0;const desyncs=(0,WVTCK5PV.RR)(state).map((key=>(0,WVTCK5PV.tS)(...stores.map((store=>{var _a,_b;const storeState=null==(_a=null==store?void 0:store.getState)?void 0:_a.call(store);if(storeState&&(0,WVTCK5PV.nr)(storeState,key))return null==(_b=null==store?void 0:store.sync)?void 0:_b.call(store,(state2=>setState(key,state2[key])),[key])}))))),teardowns=[];setups.forEach((setup2=>teardowns.push(setup2())));const cleanups=stores.map((store=>{var _a;return null==(_a=null==store?void 0:store.init)?void 0:_a.call(store)}));return(0,WVTCK5PV.tS)(...desyncs,...teardowns,...cleanups,(()=>{initialized=!1}))},subscribe:(listener,keys)=>sub(listener,keys),sync:(listener,keys)=>(disposables.set(listener,listener(state,state)),sub(listener,keys)),syncBatch:(listener,keys)=>(disposables.set(listener,listener(state,prevStateBatch)),sub(listener,keys,!0)),getState:()=>state,setState,pick:(...keys)=>createStore((0,WVTCK5PV.ei)(state,keys),finalStore),omit:(...keys)=>createStore((0,WVTCK5PV.CE)(state,keys),finalStore)};return finalStore}var O35LWD4W=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/O35LWD4W.js");function sortBasedOnDOMPosition(items){const pairs=items.map(((item,index)=>[index,item]));let isOrderDifferent=!1;return pairs.sort((([indexA,a],[indexB,b])=>{const elementA=a.element,elementB=b.element;return elementA===elementB?0:elementA&&elementB?function isElementPreceding(a,b){return Boolean(b.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_PRECEDING)}(elementA,elementB)?(indexA>indexB&&(isOrderDifferent=!0),-1):(indexA<indexB&&(isOrderDifferent=!0),1):0})),isOrderDifferent?pairs.map((([_,item])=>item)):items}function createCollectionStore(props={}){var _a;const syncState=null==(_a=props.store)?void 0:_a.getState(),items=(0,WVTCK5PV.LS)(props.items,null==syncState?void 0:syncState.items,props.defaultItems,[]),itemsMap=new Map(items.map((item=>[item.id,item]))),initialState={items,renderedItems:(0,WVTCK5PV.LS)(null==syncState?void 0:syncState.renderedItems,[])},privateStore=createStore({renderedItems:initialState.renderedItems}),collection=createStore(initialState,props.store),sortItems=()=>{const renderedItems=sortBasedOnDOMPosition(privateStore.getState().renderedItems);privateStore.setState("renderedItems",renderedItems),collection.setState("renderedItems",renderedItems)};collection.setup((()=>privateStore.syncBatch((state=>{let firstRun=!0,raf=requestAnimationFrame(sortItems);if("function"!=typeof IntersectionObserver)return;const root=function getCommonParent(items){var _a;const firstItem=items.find((item=>!!item.element)),lastItem=[...items].reverse().find((item=>!!item.element));let parentElement=null==(_a=null==firstItem?void 0:firstItem.element)?void 0:_a.parentElement;for(;parentElement&&(null==lastItem?void 0:lastItem.element);){if(lastItem&&parentElement.contains(lastItem.element))return parentElement;parentElement=parentElement.parentElement}return(0,O35LWD4W.Me)(parentElement).body}(state.renderedItems),observer=new IntersectionObserver((()=>{firstRun?firstRun=!1:(cancelAnimationFrame(raf),raf=requestAnimationFrame(sortItems))}),{root});return state.renderedItems.forEach((item=>{item.element&&observer.observe(item.element)})),()=>{cancelAnimationFrame(raf),observer.disconnect()}}),["renderedItems"])));const mergeItem=(item,setItems,canDeleteFromMap=!1)=>{let prevItem;setItems((items2=>{const index=items2.findIndex((({id})=>id===item.id)),nextItems=items2.slice();if(-1!==index){prevItem=items2[index];const nextItem=(0,_chunks_PNRLI7OV.ih)((0,_chunks_PNRLI7OV.ih)({},prevItem),item);nextItems[index]=nextItem,itemsMap.set(item.id,nextItem)}else nextItems.push(item),itemsMap.set(item.id,item);return nextItems}));return()=>{setItems((items2=>{if(!prevItem)return canDeleteFromMap&&itemsMap.delete(item.id),items2.filter((({id})=>id!==item.id));const index=items2.findIndex((({id})=>id===item.id));if(-1===index)return items2;const nextItems=items2.slice();return nextItems[index]=prevItem,itemsMap.set(item.id,prevItem),nextItems}))}},registerItem=item=>mergeItem(item,(getItems=>collection.setState("items",getItems)),!0);return(0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)({},collection),{registerItem,renderItem:item=>(0,WVTCK5PV.tS)(registerItem(item),mergeItem(item,(getItems=>privateStore.setState("renderedItems",getItems)))),item:id=>{if(!id)return null;let item=itemsMap.get(id);if(!item){const{items:items2}=collection.getState();item=items2.find((item2=>item2.id===id)),item&&itemsMap.set(id,item)}return item||null}})}var _5XEKIOCW=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/5XEKIOCW.js"),NULL_ITEM={id:null};function findFirstEnabledItem(items,excludeId){return items.find((item=>excludeId?!item.disabled&&item.id!==excludeId:!item.disabled))}function getItemsInRow(items,rowId){return items.filter((item=>item.rowId===rowId))}function groupItemsByRows(items){const rows=[];for(const item of items){const row=rows.find((currentRow=>{var _a;return(null==(_a=currentRow[0])?void 0:_a.rowId)===item.rowId}));row?row.push(item):rows.push([item])}return rows}function getMaxRowLength(array){let maxLength=0;for(const{length}of array)length>maxLength&&(maxLength=length);return maxLength}function normalizeRows(rows,activeId,focusShift){const maxLength=getMaxRowLength(rows);for(const row of rows)for(let i=0;i<maxLength;i+=1){const item=row[i];if(!item||focusShift&&item.disabled){const previousItem=0===i&&focusShift?findFirstEnabledItem(row):row[i-1];row[i]=previousItem&&activeId!==previousItem.id&&focusShift?previousItem:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==previousItem?void 0:previousItem.rowId}}}return rows}function verticalizeItems(items){const rows=groupItemsByRows(items),maxLength=getMaxRowLength(rows),verticalized=[];for(let i=0;i<maxLength;i+=1)for(const row of rows){const item=row[i];item&&verticalized.push((0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)({},item),{rowId:item.rowId?`${i}`:void 0}))}return verticalized}function createCompositeStore(props={}){var _a;const syncState=null==(_a=props.store)?void 0:_a.getState(),collection=createCollectionStore(props),activeId=(0,WVTCK5PV.LS)(props.activeId,null==syncState?void 0:syncState.activeId,props.defaultActiveId),composite=createStore((0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)({},collection.getState()),{activeId,baseElement:(0,WVTCK5PV.LS)(null==syncState?void 0:syncState.baseElement,null),includesBaseElement:(0,WVTCK5PV.LS)(props.includesBaseElement,null==syncState?void 0:syncState.includesBaseElement,null===activeId),moves:(0,WVTCK5PV.LS)(null==syncState?void 0:syncState.moves,0),orientation:(0,WVTCK5PV.LS)(props.orientation,null==syncState?void 0:syncState.orientation,"both"),rtl:(0,WVTCK5PV.LS)(props.rtl,null==syncState?void 0:syncState.rtl,!1),virtualFocus:(0,WVTCK5PV.LS)(props.virtualFocus,null==syncState?void 0:syncState.virtualFocus,!1),focusLoop:(0,WVTCK5PV.LS)(props.focusLoop,null==syncState?void 0:syncState.focusLoop,!1),focusWrap:(0,WVTCK5PV.LS)(props.focusWrap,null==syncState?void 0:syncState.focusWrap,!1),focusShift:(0,WVTCK5PV.LS)(props.focusShift,null==syncState?void 0:syncState.focusShift,!1)}),collection,props.store);composite.setup((()=>composite.sync((state=>{composite.setState("activeId",(activeId2=>{var _a2;return void 0!==activeId2?activeId2:null==(_a2=findFirstEnabledItem(state.renderedItems))?void 0:_a2.id}))}),["renderedItems","activeId"])));const getNextId=(items,orientation,hasNullItem,skip)=>{var _a2,_b;const{activeId:activeId2,rtl,focusLoop,focusWrap,includesBaseElement}=composite.getState(),allItems=rtl&&"vertical"!==orientation?(0,_5XEKIOCW.GP)(items):items;if(null==activeId2)return null==(_a2=findFirstEnabledItem(allItems))?void 0:_a2.id;const activeItem=allItems.find((item=>item.id===activeId2));if(!activeItem)return null==(_b=findFirstEnabledItem(allItems))?void 0:_b.id;const isGrid=!!activeItem.rowId,activeIndex=allItems.indexOf(activeItem),nextItems=allItems.slice(activeIndex+1),nextItemsInRow=getItemsInRow(nextItems,activeItem.rowId);if(void 0!==skip){const nextEnabledItemsInRow=function getEnabledItems(items,excludeId){return items.filter((item=>excludeId?!item.disabled&&item.id!==excludeId:!item.disabled))}(nextItemsInRow,activeId2),nextItem2=nextEnabledItemsInRow.slice(skip)[0]||nextEnabledItemsInRow[nextEnabledItemsInRow.length-1];return null==nextItem2?void 0:nextItem2.id}const oppositeOrientation=function getOppositeOrientation(orientation){return"vertical"===orientation?"horizontal":"horizontal"===orientation?"vertical":void 0}(isGrid?orientation||"horizontal":orientation),canLoop=focusLoop&&focusLoop!==oppositeOrientation,canWrap=isGrid&&focusWrap&&focusWrap!==oppositeOrientation;if(hasNullItem=hasNullItem||!isGrid&&canLoop&&includesBaseElement,canLoop){const sortedItems=function flipItems(items,activeId,shouldInsertNullItem=!1){const index=items.findIndex((item=>item.id===activeId));return[...items.slice(index+1),...shouldInsertNullItem?[NULL_ITEM]:[],...items.slice(0,index)]}(canWrap&&!hasNullItem?allItems:getItemsInRow(allItems,activeItem.rowId),activeId2,hasNullItem),nextItem2=findFirstEnabledItem(sortedItems,activeId2);return null==nextItem2?void 0:nextItem2.id}if(canWrap){const nextItem2=findFirstEnabledItem(hasNullItem?nextItemsInRow:nextItems,activeId2);return hasNullItem?(null==nextItem2?void 0:nextItem2.id)||null:null==nextItem2?void 0:nextItem2.id}const nextItem=findFirstEnabledItem(nextItemsInRow,activeId2);return!nextItem&&hasNullItem?null:null==nextItem?void 0:nextItem.id};return(0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)((0,_chunks_PNRLI7OV.ih)({},collection),composite),{setBaseElement:element=>composite.setState("baseElement",element),setActiveId:id=>composite.setState("activeId",id),move:id=>{void 0!==id&&(composite.setState("activeId",id),composite.setState("moves",(moves=>moves+1)))},first:()=>{var _a2;return null==(_a2=findFirstEnabledItem(composite.getState().renderedItems))?void 0:_a2.id},last:()=>{var _a2;return null==(_a2=findFirstEnabledItem((0,_5XEKIOCW.GP)(composite.getState().renderedItems)))?void 0:_a2.id},next:skip=>{const{renderedItems,orientation}=composite.getState();return getNextId(renderedItems,orientation,!1,skip)},previous:skip=>{var _a2;const{renderedItems,orientation,includesBaseElement}=composite.getState(),hasNullItem=!!!(null==(_a2=findFirstEnabledItem(renderedItems))?void 0:_a2.rowId)&&includesBaseElement;return getNextId((0,_5XEKIOCW.GP)(renderedItems),orientation,hasNullItem,skip)},down:skip=>{const{activeId:activeId2,renderedItems,focusShift,focusLoop,includesBaseElement}=composite.getState(),shouldShift=focusShift&&!skip,verticalItems=verticalizeItems((0,_5XEKIOCW.JH)(normalizeRows(groupItemsByRows(renderedItems),activeId2,shouldShift)));return getNextId(verticalItems,"vertical",focusLoop&&"horizontal"!==focusLoop&&includesBaseElement,skip)},up:skip=>{const{activeId:activeId2,renderedItems,focusShift,includesBaseElement}=composite.getState(),shouldShift=focusShift&&!skip,verticalItems=verticalizeItems((0,_5XEKIOCW.GP)((0,_5XEKIOCW.JH)(normalizeRows(groupItemsByRows(renderedItems),activeId2,shouldShift))));return getNextId(verticalItems,"vertical",includesBaseElement,skip)}})}function useToolbarStore(props={}){const options={},store=(0,FHQZ2KRN.oR)((()=>function createToolbarStore(props={}){var _a;const syncState=null==(_a=props.store)?void 0:_a.getState();return createCompositeStore((0,_chunks_PNRLI7OV.EZ)((0,_chunks_PNRLI7OV.ih)({},props),{orientation:(0,WVTCK5PV.LS)(props.orientation,null==syncState?void 0:syncState.orientation,"horizontal"),focusLoop:(0,WVTCK5PV.LS)(props.focusLoop,null==syncState?void 0:syncState.focusLoop,!0)}))}((0,PNRLI7OV.ih)((0,PNRLI7OV.ih)({},props),options))));return function useToolbarStoreProps(store,props){return useCompositeStoreProps(store,props)}(store,props)}},"./node_modules/@ariakit/react-core/esm/toolbar/toolbar.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>Toolbar});var react=__webpack_require__("./node_modules/react/index.js"),ToolbarContext=(0,react.createContext)(void 0),OXPV2NBK=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/OXPV2NBK.js"),WJ37OVG2=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/WJ37OVG2.js"),MYID4V27=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/MYID4V27.js"),NQJBHION=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/NQJBHION.js"),J7Q2EO23=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/J7Q2EO23.js"),PNRLI7OV=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/PNRLI7OV.js"),_5XEKIOCW=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/5XEKIOCW.js"),O35LWD4W=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/O35LWD4W.js"),events=__webpack_require__("./node_modules/@ariakit/core/esm/utils/events.js"),utils_focus=__webpack_require__("./node_modules/@ariakit/core/esm/utils/focus.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function isGrid(items){return items.some((item=>!!item.rowId))}function useKeyboardEventProxy(store,onKeyboardEvent,previousElementRef){return(0,J7Q2EO23.zX)((event=>{var _a;if(null==onKeyboardEvent||onKeyboardEvent(event),event.defaultPrevented)return;const state=store.getState(),activeElement=null==(_a=(0,OXPV2NBK.D2)(store,state.activeId))?void 0:_a.element;if(!activeElement)return;if(!function canProxyKeyboardEvent(event,state){if(!(0,events.Ud)(event))return!1;if(function isModifierKey(event){return"Shift"===event.key||"Control"===event.key||"Alt"===event.key||"Meta"===event.key}(event))return!1;const target=event.target;if(!target)return!0;if((0,O35LWD4W.eS)(target)){if(function isPrintableKey(event){return 1===event.key.length&&!event.ctrlKey&&!event.metaKey}(event))return!1;const grid=isGrid(state.renderedItems),focusingInputOnly=null===state.activeId,allowHorizontalNavigationOnItems=grid&&!focusingInputOnly,isHomeOrEnd="Home"===event.key||"End"===event.key;if(!allowHorizontalNavigationOnItems&&isHomeOrEnd)return!1}return!event.isPropagationStopped()}(event,state))return;const _b=event,{view}=_b,eventInit=(0,PNRLI7OV.S0)(_b,["view"]);activeElement!==(null==previousElementRef?void 0:previousElementRef.current)&&activeElement.focus(),(0,events.nm)(activeElement,event.type,eventInit)||event.preventDefault(),event.currentTarget.contains(activeElement)&&event.stopPropagation()}))}var useComposite=(0,NQJBHION.Bi)((_a=>{var _b=_a,{store,composite=!0,focusOnMove=composite,moveOnKeyPress=!0}=_b,props=(0,PNRLI7OV.S0)(_b,["store","composite","focusOnMove","moveOnKeyPress"]);const previousElementRef=(0,react.useRef)(null),scheduleFocus=function useScheduleFocus(store){const[scheduled,setScheduled]=(0,react.useState)(!1),schedule=(0,react.useCallback)((()=>setScheduled(!0)),[]),activeItem=store.useState((state=>(0,OXPV2NBK.D2)(store,state.activeId)));return(0,react.useEffect)((()=>{const activeElement=null==activeItem?void 0:activeItem.element;scheduled&&activeElement&&(setScheduled(!1),activeElement.focus({preventScroll:!0}))}),[activeItem,scheduled]),schedule}(store),moves=store.useState("moves");(0,react.useEffect)((()=>{var _a2;if(!moves)return;if(!composite)return;if(!focusOnMove)return;const{activeId:activeId2}=store.getState(),itemElement=null==(_a2=(0,OXPV2NBK.D2)(store,activeId2))?void 0:_a2.element;itemElement&&(0,utils_focus.PY)(itemElement)}),[moves,composite,focusOnMove]),(0,J7Q2EO23.Gw)((()=>{if(!composite)return;if(!moves)return;const{baseElement,activeId:activeId2}=store.getState();if(!(null===activeId2))return;if(!baseElement)return;const previousElement=previousElementRef.current;previousElementRef.current=null,previousElement&&(0,events.sE)(previousElement,{relatedTarget:baseElement}),(0,utils_focus.H1)(baseElement)?(0,events.Vr)(baseElement,{relatedTarget:previousElement}):baseElement.focus()}),[moves,composite]);const activeId=store.useState("activeId"),virtualFocus=store.useState("virtualFocus");(0,J7Q2EO23.Gw)((()=>{var _a2;if(!composite)return;if(!virtualFocus)return;const previousElement=previousElementRef.current;if(previousElementRef.current=null,!previousElement)return;const relatedTarget=(null==(_a2=(0,OXPV2NBK.D2)(store,activeId))?void 0:_a2.element)||(0,O35LWD4W.vY)(previousElement);(0,events.sE)(previousElement,{relatedTarget})}),[activeId,virtualFocus,composite]);const onKeyDownCapture=useKeyboardEventProxy(store,props.onKeyDownCapture,previousElementRef),onKeyUpCapture=useKeyboardEventProxy(store,props.onKeyUpCapture,previousElementRef),onFocusCaptureProp=props.onFocusCapture,onFocusCapture=(0,J7Q2EO23.zX)((event=>{if(null==onFocusCaptureProp||onFocusCaptureProp(event),event.defaultPrevented)return;const{virtualFocus:virtualFocus2}=store.getState();if(!virtualFocus2)return;const previousActiveElement=event.relatedTarget,isSilentlyFocused=(0,OXPV2NBK.JW)(event.currentTarget);(0,events.Ud)(event)&&isSilentlyFocused&&(event.stopPropagation(),previousElementRef.current=previousActiveElement)})),onFocusProp=props.onFocus,onFocus=(0,J7Q2EO23.zX)((event=>{if(null==onFocusProp||onFocusProp(event),event.defaultPrevented)return;if(!composite)return;const{relatedTarget}=event,{virtualFocus:virtualFocus2}=store.getState();virtualFocus2?(0,events.Ud)(event)&&!(0,OXPV2NBK.Gh)(store,relatedTarget)&&queueMicrotask(scheduleFocus):(0,events.Ud)(event)&&store.setActiveId(null)})),onBlurCaptureProp=props.onBlurCapture,onBlurCapture=(0,J7Q2EO23.zX)((event=>{var _a2;if(null==onBlurCaptureProp||onBlurCaptureProp(event),event.defaultPrevented)return;const{virtualFocus:virtualFocus2,activeId:activeId2}=store.getState();if(!virtualFocus2)return;const activeElement=null==(_a2=(0,OXPV2NBK.D2)(store,activeId2))?void 0:_a2.element,nextActiveElement=event.relatedTarget,nextActiveElementIsItem=(0,OXPV2NBK.Gh)(store,nextActiveElement),previousElement=previousElementRef.current;if(previousElementRef.current=null,(0,events.Ud)(event)&&nextActiveElementIsItem)nextActiveElement===activeElement?previousElement&&previousElement!==nextActiveElement&&(0,events.sE)(previousElement,event):activeElement&&(0,events.sE)(activeElement,event),event.stopPropagation();else{!(0,OXPV2NBK.Gh)(store,event.target)&&activeElement&&(0,events.sE)(activeElement,event)}})),onKeyDownProp=props.onKeyDown,moveOnKeyPressProp=(0,J7Q2EO23.yl)(moveOnKeyPress),onKeyDown=(0,J7Q2EO23.zX)((event=>{var _a2;if(null==onKeyDownProp||onKeyDownProp(event),event.defaultPrevented)return;if(!(0,events.Ud)(event))return;const{orientation,items,renderedItems,activeId:activeId2}=store.getState(),activeItem=(0,OXPV2NBK.D2)(store,activeId2);if(null==(_a2=null==activeItem?void 0:activeItem.element)?void 0:_a2.isConnected)return;const isVertical="horizontal"!==orientation,isHorizontal="vertical"!==orientation,grid=isGrid(renderedItems),keyMap={ArrowUp:(grid||isVertical)&&(()=>{if(grid){const item=items&&function findFirstEnabledItemInTheLastRow(items){return(0,OXPV2NBK.zS)((0,_5XEKIOCW.JH)((0,_5XEKIOCW.GP)((0,OXPV2NBK.al)(items))))}(items);return null==item?void 0:item.id}return store.last()}),ArrowRight:(grid||isHorizontal)&&store.first,ArrowDown:(grid||isVertical)&&store.first,ArrowLeft:(grid||isHorizontal)&&store.last,Home:store.first,End:store.last,PageUp:store.first,PageDown:store.last},action=keyMap[event.key];if(action){const id=action();if(void 0!==id){if(!moveOnKeyPressProp(event))return;event.preventDefault(),store.move(id)}}}));props=(0,J7Q2EO23.OJ)(props,(element=>(0,jsx_runtime.jsx)(WJ37OVG2.DT.Provider,{value:store,children:element})),[store]);const activeDescendant=store.useState((state=>{var _a2;return composite&&state.virtualFocus?null==(_a2=(0,OXPV2NBK.D2)(store,state.activeId))?void 0:_a2.id:void 0}));props=(0,PNRLI7OV.EZ)((0,PNRLI7OV.ih)({"aria-activedescendant":activeDescendant},props),{ref:(0,J7Q2EO23.qq)(composite?store.setBaseElement:null,props.ref),onKeyDownCapture,onKeyUpCapture,onFocusCapture,onFocus,onBlurCapture,onKeyDown});const focusable=store.useState((state=>composite&&(state.virtualFocus||null===state.activeId)));return props=(0,MYID4V27.k)((0,PNRLI7OV.ih)({focusable},props))}));(0,NQJBHION.LM)((props=>{const htmlProps=useComposite(props);return(0,NQJBHION.az)("div",htmlProps)}));var useToolbar=(0,NQJBHION.Bi)((_a=>{var _b=_a,{store}=_b,props=(0,PNRLI7OV.S0)(_b,["store"]);const orientation=store.useState((state=>"both"===state.orientation?void 0:state.orientation));return props=(0,J7Q2EO23.OJ)(props,(element=>(0,jsx_runtime.jsx)(ToolbarContext.Provider,{value:store,children:element})),[store]),props=(0,PNRLI7OV.ih)({role:"toolbar","aria-orientation":orientation},props),props=useComposite((0,PNRLI7OV.ih)({store},props))})),Toolbar=(0,NQJBHION.LM)((props=>{const htmlProps=useToolbar(props);return(0,NQJBHION.az)("div",htmlProps)}))}}]);